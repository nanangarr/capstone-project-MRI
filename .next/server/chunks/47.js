exports.id=47,exports.ids=[47],exports.modules={979:()=>{},1161:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{A:()=>f});var r=s(8732),n=s(8326),i=s(2015),o=s.n(i),l=s(3838),c=s(9741),d=s(6050),u=s(9918),h=s.n(u),m=s(6220),x=s(3599),p=s(4233),g=e([n,x]);function f(){let[e,t]=(0,i.useState)(!1),s=(0,m.usePathname)(),{isLoggedIn:a,logout:u,user:g}=(0,x.A)(),f=(0,p.useRouter)(),[v,y]=(0,i.useState)(!1),b=f.pathname.startsWith("/users")||f.pathname.startsWith("/admin")&&"/admin"!==f.pathname?[{name:"Home",path:"/"}]:[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Account Submission",path:"/pendaftaran"},{name:"Contact",path:"/contact"}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("header",{className:"flex h-16 items-center justify-between px-4 md:px-16 py-2.5 bg-primary w-full fixed top-0 z-50",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(h(),{href:"/",className:"flex items-center space-x-2",children:(0,r.jsx)("img",{src:"/images/Logo_1.png",alt:"MedBrain logo",className:"w-32"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-4",children:b.map((e,t)=>(0,r.jsxs)(o().Fragment,{children:[(0,r.jsxs)(h(),{href:e.path,className:`flex items-center font-extralight text-lg transition-colors ${s===e.path?"text-white font-semibold":"text-white hover:text-[#d1f3e7]"}`,children:[e.icon&&(0,r.jsx)(e.icon,{className:"mr-2",size:20}),e.name]}),t<b.length-1&&(0,r.jsx)("span",{className:"font-normal text-custom text-lg mx-3",children:"|"})]},e.name))}),(0,r.jsx)("div",{className:"ml-0 md:ml-4 relative",children:a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"flex items-center space-x-2 text-white",onClick:()=>{y(!v)},children:[(0,r.jsx)("div",{className:"h-9 w-9 rounded-full bg-white flex items-center justify-center",children:(0,r.jsx)(l.A,{size:20,className:"text-primary"})}),(0,r.jsx)("span",{className:"hidden md:block",children:g?.name})]}),v&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md z-50",children:(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/users/prediksi",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:"Dashboard"})}),(0,r.jsx)("li",{children:(0,r.jsx)(h(),{href:"/users/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>y(!1),children:"Profil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{onClick:()=>{u(),f.push("/"),y(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})})]})})]}):(0,r.jsx)(n.$,{className:"h-9 px-4 py-3 bg-secondary hover:bg-primary rounded-md w-full md:w-auto",children:(0,r.jsx)(h(),{href:"/login",className:"text-custom whitespace-nowrap text-lg font-semibold",children:"Login"})})}),(0,r.jsx)("button",{className:"md:hidden text-white ml-3",onClick:()=>t(!e),children:e?(0,r.jsx)(c.A,{size:24}):(0,r.jsx)(d.A,{size:24})})]}),(0,r.jsx)("div",{className:`${e?"flex":"hidden"} md:hidden flex-col absolute top-16 left-0 right-0 bg-primary py-4 px-4 gap-4 shadow-md z-10`,children:(0,r.jsx)("nav",{className:"flex flex-col gap-3 items-start",children:b.map(e=>(0,r.jsxs)(h(),{href:e.path,className:`flex items-center font-extralight text-lg transition-colors ${s===e.path?"text-white font-semibold":"text-white hover:text-[#d1f3e7]"}`,children:[e.icon&&(0,r.jsx)(e.icon,{className:"mr-2",size:20}),e.name]},e.name))})})]})})}[n,x]=g.then?(await g)():g,a()}catch(e){a(e)}})},3599:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{A:()=>u,O:()=>d});var r=s(8732),n=s(2015),i=s(4233),o=s(8970),l=e([o]);o=(l.then?(await l)():l)[0];let c=(0,n.createContext)(),d=({children:e})=>{let[t,s]=(0,n.useState)(!1),[a,l]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0),[h,m]=(0,n.useState)(null),x=(0,i.useRouter)();(0,n.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(s(!0),l(JSON.parse(t))),u(!1)},[]);let p=async e=>{try{m(null),u(!0);let t=await (0,o.iD)(e);localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("isLoggedIn","true"),s(!0),l(t.user),"admin"===t.user.role?x.push("/admin/dashboard"):x.push("/users/prediksi")}catch(e){m(e.message||"Login failed. Please check your credentials.")}finally{u(!1)}};return(0,r.jsx)(c.Provider,{value:{isLoggedIn:t,login:p,logout:()=>{(0,o.ri)(),s(!1),l(null),x.push("/")},user:a,requireAuth:e=>{if(!t&&(e.startsWith("/users")||e.startsWith("/admin")))return x.push("/"),!1;if(t){if(a?.role==="admin"&&e.startsWith("/users"))return x.push("/admin/dashboard"),!1;else if(a?.role==="user"&&e.startsWith("/admin"))return x.push("/users/prediksi"),!1}return!0},loading:d,error:h},children:e})},u=()=>(0,n.useContext)(c);a()}catch(e){a(e)}})},5113:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{A:()=>o});var r=s(1428),n=e([r]);let i=(r=(n.then?(await n)():n)[0]).default.create({baseURL:"https://capstone-for-me-production-9af6.up.railway.app/api/",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&delete e.headers["Content-Type"],e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isLoggedIn"),"/login"!==window.location.pathname&&(window.location.href="/login")),e.response?console.error("API Error:",e.response.status,e.response.data):e.request?console.error("No response received:",e.request):console.error("Request error:",e.message),Promise.reject(e)));let o=i;a()}catch(e){a(e)}})},6047:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>m});var r=s(8732);s(979);var n=s(1161),i=s(4233),o=s(6715),l=s(2015),c=s(3599),d=s(3220),u=e([n,o,c,d]);function h({Component:e,pageProps:t,collapsed:s}){let{isLoggedIn:a,requireAuth:n,user:o}=(0,c.A)();return(0,i.useRouter)(),(0,r.jsx)(e,{...t,collapsed:s})}function m({Component:e,pageProps:t}){let s=(0,i.useRouter)(),a=s.pathname,[u,m]=(0,l.useState)(!1),x=t.statusCode&&(404===t.statusCode||500===t.statusCode),p=!a.includes("/login")&&!a.includes("/admin")&&!x,g=!a.includes("/login")&&!a.includes("/admin")&&!a.includes("/about")&&!a.includes("/pendaftaran")&&!a.includes("/register")&&!a.includes("/contact")&&"/"!==a&&!x;return(0,r.jsxs)(c.O,{children:[p&&(0,r.jsx)(n.A,{}),(0,r.jsx)(d.AnimatePresence,{mode:"wait",initial:!1,children:g?(0,r.jsxs)("div",{className:"flex min-h-screen pt-16",children:[(0,r.jsx)(o.G,{collapsed:u,setCollapsed:m}),(0,r.jsx)("main",{className:`flex-1 transition-all duration-300 ${u?"ml-16":"ml-64"}`,children:(0,r.jsx)(h,{Component:e,pageProps:t,collapsed:u})})]}):(0,r.jsx)(d.motion.main,{className:p?"pt-16":"",initial:{opacity:0,x:a.includes("/login")?30:-30},animate:{opacity:1,x:0},exit:{opacity:0,x:a.includes("/login")?-30:30},transition:{duration:.3,ease:"easeOut"},children:(0,r.jsx)(h,{Component:e,pageProps:t,collapsed:u})},s.pathname)})]})}[n,o,c,d]=u.then?(await u)():u,a()}catch(e){a(e)}})},6159:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{cn:()=>o});var r=s(802),n=s(5979),i=e([r,n]);function o(...e){return(0,n.twMerge)((0,r.clsx)(e))}[r,n]=i.then?(await i)():i,a()}catch(e){a(e)}})},6715:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{G:()=>g});var r=s(8732);s(2015);var n=s(9918),i=s.n(n),o=s(4233),l=s(8533),c=s(7637),d=s(1576),u=s(6205),h=s(1506),m=s(8326),x=s(3599),p=e([m,x]);function g({collapsed:e,setCollapsed:t}){let s=(0,o.useRouter)(),a=s.pathname,{logout:n}=(0,x.A)(),p=[{name:"Prediksi",path:"/users/prediksi",icon:l.A},{name:"History",path:"/users/pasien",icon:c.A}];return d.A,(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("aside",{className:`fixed top-16 left-0 h-[calc(100vh-4rem)] ${e?"w-16":"w-64"} bg-primary border-r z-40 overflow-y-auto flex flex-col justify-between transition-all duration-300`,children:[(0,r.jsx)("div",{className:"flex flex-col p-2 gap-1",children:p.map(t=>(0,r.jsxs)(i(),{href:t.path,className:`flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${a===t.path?"bg-secondary":"text-white hover:bg-[#9fdabf] hover:text-primary"} ${e?"justify-center":""}`,title:e?t.name:"",children:[t.icon&&(0,r.jsx)(t.icon,{size:20}),!e&&(0,r.jsx)("span",{children:t.name})]},t.name))}),(0,r.jsx)("div",{className:"fixed top-19 z-50 transition-all duration-300",style:{left:e?"4.5rem":"16.5rem"},children:(0,r.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full bg-primary text-white shadow-md hover:bg-[#9fdabf] hover:text-primary",onClick:()=>t(!e),children:e?(0,r.jsx)(u.A,{size:16}):(0,r.jsx)(h.A,{size:16})})}),(0,r.jsx)("div",{className:"p-2 border-t border-[#9fdabf]/30",children:(0,r.jsxs)("button",{onClick:()=>{n(),s.push("/login")},className:`w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors text-white hover:bg-[#9fdabf] hover:text-primary ${e?"justify-center":""}`,title:e?"Logout":"",children:[(0,r.jsx)(d.A,{size:20}),!e&&(0,r.jsx)("span",{className:"font-semibold",children:"Logout"})]})})]}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/20 z-30 lg:hidden",onClick:()=>t(!0),style:{display:"none"}})]})}[m,x]=p.then?(await p)():p,a()}catch(e){a(e)}})},8326:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{$:()=>c});var r=s(8732);s(2015);var n=s(9640),i=s(8938),o=s(6159),l=e([n,i,o]);[n,i,o]=l.then?(await l)():l;let d=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:t,size:s,asChild:a=!1,...i}){let l=a?n.Slot:"button";return(0,r.jsx)(l,{"data-slot":"button",className:(0,o.cn)(d({variant:t,size:s,className:e})),...i})}a()}catch(e){a(e)}})},8970:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{iD:()=>o,kz:()=>i,ri:()=>l});var r=s(5113),n=e([r]);r=(n.then?(await n)():n)[0];let i=async e=>{try{return(await r.A.post("/auth/register",e)).data}catch(e){throw e.response?.data||{message:"An error occurred during registration"}}},o=async e=>{try{return(await r.A.post("/auth/login",e)).data}catch(e){throw e.response?.data||{message:"An error occurred during login"}}},l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("isLoggedIn")};a()}catch(e){a(e)}})}};