(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{306:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1713).A)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},475:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var r=a(7876),t=a(4232),l=a(2577),i=a(1449),d=a(2671),n=a(5715),c=a(8230),o=a.n(c),h=a(1926),x=a(9099);function m(){let[e,s]=(0,t.useState)(!1),{logout:a}=(0,h.A)(),c=(0,x.useRouter)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:"fixed top-0 left-0 right-0 h-16 bg-white border-b z-50 px-4 flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(o(),{href:"/admin/dashboard",className:"flex items-center space-x-2",children:(0,r.jsx)("span",{className:"font-bold text-2xl text-primary ml-3",children:"MediPredict"})})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-primary",children:(0,r.jsx)(l.A,{size:20})}),(0,r.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-primary",children:(0,r.jsx)(i.A,{size:20})}),(0,r.jsx)("div",{className:"flex items-center ml-4 pl-4 border-l",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-gray-600 hover:text-primary",onClick:()=>{s(!e)},children:(0,r.jsx)("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center",children:(0,r.jsx)(d.A,{size:20,className:"text-primary"})})}),e&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md",children:(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:(0,r.jsx)(o(),{href:"/admin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>s(!1),children:"Profil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("div",{className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>{a(),c.push("/login"),s(!1)},children:"Logout"})})]})})]})})]})]})})}var u=a(8119),p=a(7396),y=a(395);function g(){let e=(0,x.useRouter)(),s=e.pathname,{logout:a}=(0,h.A)(),t=[{name:"Dashboard",path:"/admin/dashboard",icon:u.A},{name:"Data Users",path:"/admin/users",icon:p.A}];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("aside",{className:"fixed top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white border-r z-40 overflow-y-auto flex flex-col justify-between",children:[(0,r.jsx)("div",{className:"flex flex-col p-2 gap-1 flex-grow",children:t.map(e=>(0,r.jsxs)(o(),{href:e.path,className:"flex items-center gap-3 px-3 py-2 rounded-md transition-colors ".concat(s.startsWith(e.path)?"bg-primary/10 text-primary font-medium":"hover:bg-gray-100 text-gray-700"),children:[e.icon&&(0,r.jsx)(e.icon,{size:20}),(0,r.jsx)("span",{children:e.name})]},e.name))}),(0,r.jsx)("div",{className:"p-2 border-t0",children:(0,r.jsxs)("button",{onClick:()=>{a(),e.push("/login")},className:"w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ",children:[(0,r.jsx)(y.A,{size:20}),(0,r.jsx)("span",{className:"font-semibold",children:"Logout"})]})})]})})}function j(e){let{children:s}=e;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(m,{}),(0,r.jsx)(g,{}),(0,r.jsx)("main",{className:"pt-16 pl-64",children:(0,r.jsx)("div",{className:"p-6",children:s})})]})}},1449:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1713).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1761:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var r=a(7876),t=a(4232),l=a(475),i=a(1926),d=a(9099),n=a(5715),c=a(395),o=a(7959),h=a(7396),x=a(306);let m=(0,a(1713).A)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var u=a(4433),p=a(8230),y=a.n(p);function g(){let{user:e,logout:s}=(0,i.A)(),a=(0,d.useRouter)(),[p,g]=(0,t.useState)([]),[j,v]=(0,t.useState)([]),[f,w]=(0,t.useState)(!0),[b,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{w(!0);let[e,s]=await Promise.all([(0,u.kh)(),(0,u.wP)()]);g(e),v(s)}catch(e){N("Failed to load dashboard data"),console.error(e)}finally{w(!1)}})()},[]);let k=p.filter(e=>1===e.isApproved);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.default,{children:(0,r.jsxs)("div",{className:"max-w-screen-xl mx-auto",children:[(0,r.jsxs)("header",{className:"flex justify-between items-center mb-6 bg-gray-100 p-4 rounded-lg",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("span",{className:"font-semibold",children:["Welcome, ",null==e?void 0:e.username]}),(0,r.jsxs)(n.$,{variant:"destructive",className:"flex items-center gap-2",onClick:()=>{s(),a.push("/")},children:[(0,r.jsx)(c.A,{size:16}),"Logout"]})]})]}),f?(0,r.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,r.jsx)(o.A,{className:"animate-spin h-8 w-8 text-primary"}),(0,r.jsx)("span",{className:"ml-2 text-primary",children:"Loading dashboard data..."})]}):b?(0,r.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:(0,r.jsx)("p",{children:b})}):(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsx)(y(),{href:"/admin/users",children:(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500 hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Total Users"}),(0,r.jsx)("h3",{className:"text-3xl font-bold",children:p.length})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,r.jsx)(h.A,{className:"h-8 w-8 text-blue-500"})})]})})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500 hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Approved Users"}),(0,r.jsx)("h3",{className:"text-3xl font-bold",children:k.length})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,r.jsx)(x.A,{className:"h-8 w-8 text-green-500"})})]})}),(0,r.jsx)(y(),{href:"/admin/users",children:(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-yellow-500 hover:shadow-lg transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Pending Approval"}),(0,r.jsx)("h3",{className:"text-3xl font-bold",children:j.length})]}),(0,r.jsx)("div",{className:"p-3 bg-yellow-100 rounded-full",children:(0,r.jsx)(m,{className:"h-8 w-8 text-yellow-500"})})]})})})]})]})})})}},2577:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1713).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},4433:(e,s,a)=>{"use strict";a.d(s,{_u:()=>d,a1:()=>i,kh:()=>t,rT:()=>n,wP:()=>l});var r=a(3004);let t=async()=>{try{return(await r.A.get("/admin/users")).data}catch(s){var e;throw(null==(e=s.response)?void 0:e.data)||{message:"An error occurred while fetching users"}}},l=async()=>{try{return(await r.A.get("/admin/users/pending")).data}catch(s){var e;throw(null==(e=s.response)?void 0:e.data)||{message:"An error occurred while fetching pending users"}}},i=async e=>{try{return(await r.A.delete("/admin/users/".concat(e))).data}catch(e){var s;throw console.error("Error removing user:",e),e.response&&(console.error("Response status:",e.response.status),console.error("Response data:",e.response.data)),(null==(s=e.response)?void 0:s.data)||{message:"An error occurred while removing user"}}},d=async e=>{try{return(await r.A.get("/admin/users/".concat(e))).data}catch(e){var s;throw(null==(s=e.response)?void 0:s.data)||{message:"An error occurred while approving user"}}},n=async(e,s)=>{try{return(await r.A.put("/admin/users/".concat(e),s)).data}catch(e){var a;throw(null==(a=e.response)?void 0:a.data)||{message:"An error occurred while updating user"}}}},6242:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return a(1761)}])},7959:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1713).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},8119:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(1713).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(6242)),_N_E=e.O()}]);